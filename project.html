<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project – Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="project-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <!-- Header/Navigation -->
    <header class="header">
        <div class="container">
            <div class="nav-wrapper">
                <a href="/" class="logo">
                    <span>↯</span>
                </a>
                
                <nav class="main-nav">
                    <a href="/#projects">Projects</a>
                </nav>

                <button class="mobile-menu-toggle">
                    <span>Menu</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Project Content -->
    <main class="project-page">
        <div class="container">
            <div class="project-content" id="project-content">
                <p>Loading...</p>
            </div>
        </div>
    </main>

    <!-- Footer/Contact -->
    <footer class="footer">
        <div class="container">
            <h2 class="footer-title">Contact</h2>
            <div class="footer-links">
                <!-- <p>↘ <a href="https://twitter.com" target="_blank">Twitter/X</a></p> -->
                <p>↘ <a href="https://threads.net" target="_blank">Threads</a></p>
                <p>↘ <a href="https://linkedin.com" target="_blank">LinkedIn</a></p>
                <p>↘ <a href="https://instagram.com" target="_blank">Instagram</a></p>
            </div>
            <div class="footer-credits">
                <p><a href="/">Your Name</a><br>
                Location 20XX – 20XX</p>
            </div>
        </div>
    </footer>

    <script>
        // Get project name from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const projectName = urlParams.get('project') || urlParams.get('p');
        
        if (!projectName) {
            document.getElementById('project-content').innerHTML = '<p>No project specified. Please select a project from the <a href="/">gallery</a>.</p>';
        } else {
            // Load and render the Markdown file
            const markdownPath = `docs/${projectName}/index.md`;
            
            fetch(markdownPath)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Project not found');
                    }
                    return response.text();
                })
                .then(markdown => {
                    const html = marked.parse(markdown);
                    document.getElementById('project-content').innerHTML = html;
                    
                    // Update page title from the first h1 in the markdown
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = html;
                    const h1 = tempDiv.querySelector('h1');
                    if (h1) {
                        document.title = h1.textContent + ' – Portfolio';
                    }
                })
                .catch(error => {
                    console.error('Error loading markdown:', error);
                    document.getElementById('project-content').innerHTML = 
                        '<p>Error loading project content. The project may not exist. <a href="/">Return to gallery</a>.</p>';
                });
        }
    </script>
</body>
</html>

